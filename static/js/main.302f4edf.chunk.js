(this["webpackJsonphacker-news"]=this["webpackJsonphacker-news"]||[]).push([[0],{25:function(e,t,n){e.exports=n(61)},30:function(e,t,n){},31:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(21),o=n.n(c),l=(n(30),n(5)),s=n(8),i=n(7),m=n(24),u={stories:[],total:0},f=function(e,t){switch(t.type){case"SET_STORIES_ID":return Object(m.a)({},e,{stories:t.stories,total:t.total});default:return e}},d=(n(31),n(10)),E=n.n(d),h=function(){return r.a.createElement("section",{className:"error-page h-100 d-flex flex-column justify-content-center align-items-center"},r.a.createElement(E.a,null,r.a.createElement("h1",null,"This page does not exist."),r.a.createElement(s.b,{to:"/",exact:"true"},"Back to Homepage")))},p=(n(38),n(39),function(){return r.a.createElement("div",{className:"loader position-fixed w-100 h-100 d-flex justify-content-center align-items-center flex-column bg-white"},r.a.createElement("svg",null,r.a.createElement("g",null,r.a.createElement("path",{d:"M 50,100 A 1,1 0 0 1 50,0"})),r.a.createElement("g",null,r.a.createElement("path",{d:"M 50,75 A 1,1 0 0 0 50,-25"})),r.a.createElement("defs",null,r.a.createElement("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%"},r.a.createElement("stop",{offset:"0%",style:{stopColor:"#FF56A1",stopOpacity:"1"}}),r.a.createElement("stop",{offset:"100%",style:{stopColor:"#FF9350",stopOpacity:"1"}})))),r.a.createElement("h1",null,"Loading stories ..."))}),b=(n(40),n(41),n(42),function(){return r.a.createElement("div",{className:"comments-loader d-flex justify-content-center"},r.a.createElement("div",{className:"comments-loader-spinner"}))}),g=(n(43),function(e){var t,n,c=Object(a.useState)(!1),o=Object(l.a)(c,2),s=o[0],i=o[1],m=Object(a.useState)([]),u=Object(l.a)(m,2),f=u[0],d=u[1];return r.a.createElement(E.a,{key:e.comment.id},r.a.createElement("div",{className:"single-comment py-3",key:e.comment.id,"data-id":e.comment.id},r.a.createElement("p",{className:"comment-author font-weight-bold mb-1"},e.comment.by),r.a.createElement("p",{className:"comment-time"},(n=e.comment.time,new Date(n).toUTCString())),r.a.createElement("p",{dangerouslySetInnerHTML:(t=e.comment.text,{__html:t}),className:"comment-body"}),e.comment.kids?r.a.createElement("button",{className:"text-white btn comment-btn",onClick:function(){return function(e){i(!s);var t=[];if(!f.length&&e.kids){var n=!0,a=!1,r=void 0;try{for(var c,o=e.kids[Symbol.iterator]();!(n=(c=o.next()).done);n=!0){var l=c.value;fetch("https://hacker-news.firebaseio.com/v0/item/".concat(l,".json?print=pretty")).then((function(e){return e.json()})).then((function(n){t.push(n),t.length===e.kids.length&&(t.sort((function(e,t){return t.time-e.time})),d(t))}))}}catch(m){a=!0,r=m}finally{try{n||null==o.return||o.return()}finally{if(a)throw r}}}}(e.comment)}},s?"HIDE REPLIES":"SHOW REPLIES"):null,s?r.a.createElement(v,{replies:!0,comments:f}):null))}),v=function(e){return r.a.createElement("div",{className:e.replies?"comments replies my-3":"comments my-3"},e.comments.length?e.comments.map((function(e){return r.a.createElement(g,{comment:e,key:e.id})})):r.a.createElement(b,null))},y=n(11),x=n(12),N=function(e){var t=Object(a.useState)(!1),n=Object(l.a)(t,2),c=n[0],o=n[1],s=Object(a.useState)([]),i=Object(l.a)(s,2),m=i[0],u=i[1],f=function(){o(!c);var t=[];if(!m.length&&e.data.kids){var n=!0,a=!1,r=void 0;try{for(var l,s=e.data.kids[Symbol.iterator]();!(n=(l=s.next()).done);n=!0){var i=l.value;fetch("https://hacker-news.firebaseio.com/v0/item/".concat(i,".json?print=pretty")).then((function(e){return e.json()})).then((function(n){t.push(n),t.length===e.data.kids.length&&(t.sort((function(e,t){return t.time-e.time})),u(t))}))}}catch(f){a=!0,r=f}finally{try{n||null==s.return||s.return()}finally{if(a)throw r}}}};return r.a.createElement(E.a,null,r.a.createElement("div",{className:"story position-relative py-4","data-id":e.data.id},r.a.createElement("h2",{className:"mb-2 text-center text-md-left"},r.a.createElement("span",null,e.data.index,". "),r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e.data.url},e.data.title)),r.a.createElement("div",{className:"story-info d-flex flex-column flex-md-row justify-content-center justify-content-md-between align-items-center"},r.a.createElement("div",{className:"story-details d-flex align-items-center"},r.a.createElement("p",{className:"mb-3 mb-md-0"},e.data.score," points | by",r.a.createElement("span",{className:"author-name"}," ",e.data.by," ")," |",r.a.createElement("span",null,"\xa0comments: ",e.data.kids?e.data.kids.length:0))),r.a.createElement("div",{className:"story-btns"},c&&e.data.kids?r.a.createElement("button",{onClick:f},"HIDE COMMENTS ",r.a.createElement(y.a,{icon:x.c,className:"ml-1"})):!c&&e.data.kids?r.a.createElement("button",{onClick:f},"SHOW COMMENTS ",r.a.createElement(y.a,{icon:x.b,className:"ml-1"})):null)),c?r.a.createElement("div",{className:"container"},r.a.createElement(v,{comments:m})):null))},j=n(47),w=Object(i.f)((function(e){var t=Object(a.useContext)(S).store,n=Object(a.useState)(+j.parse(e.location.search).page),c=Object(l.a)(n,2),o=c[0],i=c[1],m=Object(a.useState)([]),u=Object(l.a)(m,2),f=u[0],d=u[1];Object(a.useEffect)((function(){i(+j.parse(e.location.search).page);var n=j.parse(e.location.search).page?+j.parse(e.location.search).page:1,a=1===n?29:30*n-1,r=t.stories.slice(a-29,a+1),c=[];r.map((function(e){return fetch("https://hacker-news.firebaseio.com/v0/item/".concat(e,".json")).then((function(e){return e.json()})).then((function(e){var n=t.stories.findIndex((function(t){return t===e.id}));e.index=n+1,c.push(e);var a=c.find((function(e){return e.index===t.total}));(30===c.length||a)&&(c.sort((function(e,t){return e.index-t.index})),d(c))}))}))}),[e.location.search,t.stories.length]);var E=function(){d([]),window.scroll({top:0,behavior:"smooth"})};return r.a.createElement("section",{className:"homepage"},f.length?r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-lg-8 mx-auto"},r.a.createElement("h1",{className:"text-center mb-4"},"Hacker News"),r.a.createElement("div",{className:"stories"},f.map((function(e,t){return r.a.createElement(N,{key:e.id,data:e,storyNumber:t+1})}))),r.a.createElement("div",{className:"btns d-flex justify-content-center my-5"},function(){if(!f.find((function(e){return 1===e.index})))return r.a.createElement(s.b,{to:"/news?page=".concat(o>1?o-1:1),exact:"true",title:"Previous page",onClick:E},r.a.createElement("button",{className:"btn homepage-btn"},"PREVIOUS PAGE"))}(),function(){if(!f.find((function(e){return e.index===t.total})))return r.a.createElement(s.b,{to:"/news?page=".concat(o?o+1:2),onClick:E,exact:"true",title:"Next page"},r.a.createElement("button",{className:"btn homepage-btn"},"NEXT PAGE"))}())))):!t.stories.length||t.stories.length&&!f.length&&!o||!f.length&&Math.ceil(t.total/30)>=o?r.a.createElement(p,null):Math.ceil(t.total/30)<o?r.a.createElement(h,null):void 0)})),k=(n(59),function(){return r.a.createElement("footer",{className:"d-flex justify-content-center align-items-center"},r.a.createElement("p",{className:"text-center mb-0"},"Created with",r.a.createElement("img",{src:"assets/img/heart.png",alt:"Heart",className:"heart-icon"}),"and ",r.a.createElement("i",null,"React.js"),r.a.createElement("img",{src:"assets/img/react.png",alt:"React Logo",className:"react-icon"})))}),O=(n(60),function(){return r.a.createElement("div",{onClick:function(){window.scroll({top:0,behavior:"smooth"})},className:"to-top position-fixed d-flex justify-content-center align-items-center"},r.a.createElement(y.a,{icon:x.a,color:"white"}))}),S=Object(a.createContext)(),C=function(){var e=Object(a.useReducer)(f,u),t=Object(l.a)(e,2),n=t[0],c=t[1],o=new AbortController;return Object(a.useEffect)((function(){return fetch("https://hacker-news.firebaseio.com/v0/topstories.json",{signal:o.signal}).then((function(e){return e.json()})).then((function(e){var t=e.length;c({type:"SET_STORIES_ID",stories:e,total:t})})),function(){o.abort()}}),[]),r.a.createElement(s.a,{basename:"hacker-news"},r.a.createElement(S.Provider,{value:{store:n,dispatch:c}},r.a.createElement("div",{className:"App"},r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/",exact:!0,render:function(e){return r.a.createElement(w,{routerProps:e})}}),r.a.createElement(i.a,{path:"/news",render:function(e){return r.a.createElement(w,{routerProps:e})}}),r.a.createElement(i.a,{render:function(e){return r.a.createElement(h,{routerProps:e})}})),r.a.createElement(k,null),r.a.createElement(O,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[25,1,2]]]);
//# sourceMappingURL=main.302f4edf.chunk.js.map