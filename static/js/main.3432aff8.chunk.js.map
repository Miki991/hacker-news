{"version":3,"sources":["reducer.js","pages/ErrorPage/ErrorPage.js","components/Loader/Loader.js","components/CommentsLoader/CommentsLoader.js","components/Comment/Comment.js","components/Comments/Comments.js","components/Story/Story.js","pages/Homepage/Homepage.js","components/Footer/Footer.js","components/TopArrow/TopArrow.js","App.js","serviceWorker.js","index.js"],"names":["initialState","stories","total","reducer","state","action","type","ErrorPage","className","to","exact","Loader","d","id","x1","y1","x2","y2","offset","style","stopColor","stopOpacity","CommentsLoader","Comment","props","comment","time","useState","showReplies","setShowReplies","replies","setReplies","key","data-id","by","Date","toUTCString","dangerouslySetInnerHTML","text","__html","kids","onClick","arr","length","com","fetch","then","res","json","data","push","sort","a","b","displayReplies","comments","Comments","map","Story","showComments","setShowComments","setComments","displayComments","index","target","rel","href","url","title","score","icon","faChevronUp","faChevronDown","queryString","require","withRouter","store","useContext","Store","parse","location","search","page","setPage","results","setResults","useEffect","currentPage","slice","storyID","response","result","findIndex","story","last","find","pageChanged","window","scroll","top","behavior","i","storyNumber","renderPrevPageButton","renderNextPageButton","Math","ceil","Footer","src","alt","TopArrow","faArrowUp","color","createContext","App","useReducer","dispatch","abortController","AbortController","signal","abort","basename","Provider","value","path","component","Homepage","Boolean","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.3432aff8.chunk.js","sourcesContent":["export const initialState = {\n    stories: [],\n    total: 0\n}\n\nexport const reducer = (state, action) => {\n    switch(action.type) {\n        case 'SET_STORIES_ID': \n            return {\n                ...state,\n                stories: action.stories,\n                total: action.total\n            };\n        default:\n            return state;\n    }\n}","import React from 'react';\nimport './ErrorPage.scss';\nimport {Link} from 'react-router-dom';\nimport Fade from 'react-reveal/Fade';\n\n\nconst ErrorPage = () => {\n    return (\n        <section className='error-page h-100 d-flex flex-column justify-content-center align-items-center'>\n            <Fade> \n                <h1>This page does not exist.</h1>\n                <Link to='/' exact='true'>Back to Homepage</Link>\n            </Fade>\n        </section>\n    )\n}\n\n\nexport default ErrorPage;","import React from \"react\";\nimport \"./Loader.scss\";\n\nconst Loader = () => {\n  return (\n    <div className=\"loader position-fixed w-100 h-100 d-flex justify-content-center align-items-center flex-column bg-white\">\n      <svg>\n        <g>\n          <path d=\"M 50,100 A 1,1 0 0 1 50,0\" />\n        </g>\n        <g>\n          <path d=\"M 50,75 A 1,1 0 0 0 50,-25\" />\n        </g>\n        <defs>\n          <linearGradient id=\"gradient\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n            <stop offset=\"0%\" style={{stopColor: '#FF56A1', stopOpacity: '1'}} />\n            <stop offset=\"100%\" style={{stopColor: '#FF9350', stopOpacity: '1'}} />\n          </linearGradient>\n        </defs>\n      </svg>\n      <h1>Loading stories ...</h1>\n    </div>\n  );\n};\n\nexport default Loader;\n","import React from \"react\";\nimport \"./CommentsLoader.scss\";\n\nconst CommentsLoader = () => {\n  return (\n    <div className=\"comments-loader d-flex justify-content-center\">\n        <div className=\"comments-loader-spinner\" />\n    </div>\n  );\n};\n\nexport default CommentsLoader;\n","import React, {useState} from 'react';\nimport './Comment.scss';\nimport Fade from 'react-reveal/Fade'\nimport Comments from '../Comments/Comments';\n\n\nconst Comment = props => {\n    const [showReplies, setShowReplies] = useState(false);\n    const [replies, setReplies] = useState([]);\n\n    const renderTime = (time) => {\n        let date = new Date(time).toUTCString();\n\n        return date;\n    }\n\n    const displayReplies = (comment) => {\n        setShowReplies(!showReplies);\n\n        let arr = [];\n\n        if (!replies.length && comment.kids) {\n            for (let com of comment.kids) {\n                fetch(`https://hacker-news.firebaseio.com/v0/item/${com}.json?print=pretty`)\n                .then(res => res.json())\n                .then(data => {\n                    arr.push(data);\n\n                    if (arr.length === comment.kids.length) {\n                        arr.sort((a,b) => b.time - a.time);\n                        setReplies(arr);\n                    }\n                })\n            }\n        }\n    }\n\n    const setComment = comment => {\n        // Setting comment with dangerouslySetInnerHTML as comment body is a string with <p /> and <a /> tags in it\n        return {__html: comment}; \n    }\n\n    return (\n        <Fade key={props.comment.id}>\n            <div \n                className='single-comment py-3' \n                key={props.comment.id} \n                data-id={props.comment.id}>\n                <p className='comment-author font-weight-bold mb-1'>\n                    {props.comment.by}\n                </p>\n                <p className='comment-time'>\n                    {renderTime(props.comment.time)}\n                </p>\n                <p \n                    dangerouslySetInnerHTML={setComment(props.comment.text)}\n                    className='comment-body'>\n                </p>\n                {props.comment.kids ? \n                    <button \n                        className='text-white btn comment-btn'\n                        onClick={() => displayReplies(props.comment)}>\n                        {showReplies ? 'HIDE REPLIES' : 'SHOW REPLIES'}\n                    </button> : null\n                }\n                {showReplies ? <Comments replies={true} comments={replies} /> : null}\n            </div>\n        </Fade>\n    )\n}\n\n\nexport default Comment;","import React from 'react';\nimport './Comments.scss';\nimport CommentsLoader from '../CommentsLoader/CommentsLoader';\nimport Comment from '../Comment/Comment';\n\n\n\nconst Comments = props => {\n    return (\n        <div className={props.replies ? `comments replies my-3` : `comments my-3`}>\n            {props.comments.length ?\n                props.comments.map(comment => <Comment comment={comment} key={comment.id} />)\n                :\n                <CommentsLoader />\n            }\n        </div>\n    )\n}\n\n\nexport default Comments;","import React, { useState } from 'react';\nimport './Story.scss';\nimport Comments from '../Comments/Comments';\nimport Fade from 'react-reveal/Fade';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faChevronUp, faChevronDown } from '@fortawesome/free-solid-svg-icons'\n\n\n\nconst Story = props => {\n    const [showComments, setShowComments] = useState(false);\n    const [comments, setComments] = useState([]);\n\n    const displayComments = () => {\n        setShowComments(!showComments);\n\n        let arr = [];\n\n        if (!comments.length && props.data.kids) {\n            for (let comment of props.data.kids) {\n                fetch(`https://hacker-news.firebaseio.com/v0/item/${comment}.json?print=pretty`)\n                .then(res => res.json())\n                .then(data => {\n                    arr.push(data);\n\n                    if (arr.length === props.data.kids.length) {\n                        arr.sort((a,b) => b.time - a.time);\n                        setComments(arr);\n                    }\n                })\n            }\n        }\n    }\n\n    const renderCommentsButton = () => {\n        if (showComments && props.data.kids) {\n            return (\n                <button onClick={displayComments}>\n                    HIDE COMMENTS <FontAwesomeIcon icon={faChevronUp} className='ml-1' />\n                </button>\n            )\n        } else if (!showComments && props.data.kids) {\n            return (\n                <button onClick={displayComments}>\n                    SHOW COMMENTS <FontAwesomeIcon icon={faChevronDown} className='ml-1' />\n                </button>\n            )\n        } else { \n            return null; \n        }\n    }\n\n    return (\n        <Fade>\n            <div className='story position-relative py-4' data-id={props.data.id}>\n                <h2 className='mb-2 text-center text-md-left'>\n                    <span>{props.data.index}. </span>\n                    <a \n                        target='_blank' \n                        rel='noopener noreferrer' \n                        href={props.data.url}>{props.data.title}\n                    </a>\n                </h2>\n                <div className='story-info d-flex flex-column flex-md-row justify-content-center justify-content-md-between align-items-center'>\n                    <div className='story-details d-flex align-items-center'>\n                        <p className='mb-3 mb-md-0'>{props.data.score} points | by \n                            <span className='author-name'> {props.data.by} </span> | \n                            <span>\n                                &nbsp;comments: {props.data.kids ? props.data.kids.length : 0}\n                            </span>\n                        </p>\n                    </div>\n                    <div className='story-btns'>\n                        {renderCommentsButton()}\n                    </div>\n                </div>\n                {showComments ? \n                    <div className='container'>\n                        <Comments comments={comments} />\n                    </div> : null \n                } \n            </div>\n        </Fade>\n    )\n}\n\n\nexport default Story;","import React, { useState, useEffect, useContext } from 'react';\nimport './Homepage.scss';\nimport { withRouter, Link } from 'react-router-dom';\nimport { Store } from '../../App'; \nimport Loader from '../../components/Loader/Loader';\nimport Story from '../../components/Story/Story';\nimport ErrorPage from '../ErrorPage/ErrorPage';\n\nconst queryString = require('query-string');\n\n\nconst Homepage = props => {\n    const {store} = useContext(Store);\n    const [page, setPage] = useState(+queryString.parse(props.location.search).page);\n    const [results, setResults] = useState([]);\n    \n    useEffect(() => {\n        // Setting page on change\n        setPage(+queryString.parse(props.location.search).page);\n         \n        // Setting 30 results to be displayed on page according to page number displayed in URL\n        let currentPage = queryString.parse(props.location.search).page ? +queryString.parse(props.location.search).page : 1;\n        let index = currentPage === 1 ? 29 : (currentPage * 30 - 1);\n        let stories = store.stories.slice(index - 29, index + 1);\n \n        let arr = [];\n\n        // Getting all info of each top story by its ID\n        stories.map((storyID) => (\n            fetch(`https://hacker-news.firebaseio.com/v0/item/${storyID}.json`)\n            .then(response => response.json())\n            .then(result => {\n\n                // Setting story number to put them in order\n                let index = store.stories.findIndex(story => story === result.id);\n                result.index = index + 1;\n                arr.push(result);\n\n\n                // Checking if last result will be displayed on page. If not, 30 results must be shown\n                let last = arr.find(((story) => story.index === store.total));\n\n                if (arr.length === 30 || last) {\n                    arr.sort((a,b) => a.index - b.index);\n                    setResults(arr);\n                }\n            })\n        ))\n        // eslint-disable-next-line\n    }, [props.location.search, store.stories.length]);\n\n    const pageChanged = () => {\n        setResults([]);\n        window.scroll({top: 0, behavior: 'smooth'});\n    }\n\n    const renderPrevPageButton = () => {\n        // 'Previous Page' button is not rendered on the first page\n        let first = results.find(story => story.index === 1);\n        \n        if (!first) {\n            return (\n                <Link \n                    to={`/news?page=${page > 1 ? page - 1 : 1}`} \n                    exact='true'\n                    title='Previous page'\n                    onClick={pageChanged}>\n                    <button \n                        className='btn homepage-btn'>\n                            PREVIOUS PAGE\n                    </button>\n                </Link>\n            )\n        }\n    }\n\n    const renderNextPageButton = () => {\n        // 'Next Page' button is rendered on all pages except the last one.\n        let last = results.find(story => story.index === store.total);\n        \n        \n        if (!last) {\n            return (\n                <Link \n                    to={`/news?page=${page ? page + 1: 2}`} \n                    onClick={pageChanged}\n                    exact='true'\n                    title='Next page'>\n                    <button \n                        className='btn homepage-btn'>\n                            NEXT PAGE\n                    </button>\n                </Link>\n            )\n        }       \n    }\n\n    const renderPageContent = () => {\n        // Rendering content depending on results. All cases are covered\n        if (results.length) {\n            return (\n                <div className='container'>\n                    <div className='row'>\n                        <div className='col-12 col-lg-8 mx-auto'>\n                            <h1 className='text-center mb-4'>Hacker News</h1>\n\n                                <div className='stories'>\n                                    {results.map((story, i) => (\n                                        <Story key={story.id} data={story} storyNumber={i + 1} />\n                                    ))}\n                                </div>\n                                \n                            <div className='btns d-flex justify-content-center my-5'>\n                                {renderPrevPageButton()}\n                                {renderNextPageButton()}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            )\n        } else if (!store.stories.length || (store.stories.length && !results.length && !page) || (!results.length && Math.ceil(store.total / 30) >= page)) {\n            return <Loader />\n        } else if (Math.ceil(store.total / 30) < page) {\n            return <ErrorPage />\n        } \n    }\n\n    return (\n        <section className='homepage'>\n            {renderPageContent()}\n        </section>\n    )\n}\n\n\nexport default withRouter(Homepage);","import React from 'react';\nimport './Footer.scss';\n\n\nconst Footer = () => {\n    return (\n        <footer className='d-flex justify-content-center align-items-center'>\n            <p className='text-center mb-0'>\n                Created with \n                <img \n                    src=\"/assets/img/heart.png\"\n                    alt='Heart'\n                    className='heart-icon' />\n                and <i>React.js</i>\n                <img \n                    src='/assets/img/react.png' \n                    alt='React Logo'\n                    className='react-icon' />\n            </p>\n        </footer>\n    )\n}\n\n\nexport default Footer;","import React from 'react';\nimport './TopArrow.scss';\nimport { faArrowUp } from '@fortawesome/free-solid-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\n\n\nconst TopArrow = () => {\n\n    const goToTop = () => {\n        window.scroll({top: 0, behavior: 'smooth'})\n    }\n\n    return (\n        <div onClick={goToTop} className='to-top position-fixed d-flex justify-content-center align-items-center'>\n            <FontAwesomeIcon icon={faArrowUp} color='white' />\n        </div>\n    )\n}\n\nexport default TopArrow;","import React, { useEffect, createContext, useReducer } from 'react';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport { initialState, reducer } from './reducer';\n\nimport ErrorPage from './pages/ErrorPage/ErrorPage';\nimport Homepage from './pages/Homepage/Homepage';\nimport Footer from './components/Footer/Footer';\nimport TopArrow from './components/TopArrow/TopArrow';\n\n\n// Creating context for global state management\nexport const Store = createContext();\n\n\nconst App = () => {\n  const [store, dispatch] = useReducer(reducer, initialState);\n  const abortController = new AbortController();\n\n  useEffect(() => {\n    // Getting IDs of all top stories\n    fetch(`https://hacker-news.firebaseio.com/v0/topstories.json`, {signal: abortController.signal})\n    .then(response => response.json())\n    .then(data => {\n\n      let total = data.length;\n      dispatch({type: 'SET_STORIES_ID', stories: data, total: total});\n    })\n    \n    return () => {\n      abortController.abort()\n    }\n\n    // eslint-disable-next-line\n  },[])\n\n  return (\n    <Router basename='hacker-news'>\n      <Store.Provider value={{store: store, dispatch: dispatch}}>\n        <div className=\"App\">\n          <Switch>\n            <Route path='/' exact component={Homepage} />\n            <Route path='/news' component={Homepage} />\n            <Route component={ErrorPage} />\n          </Switch>\n          <Footer />\n          <TopArrow />\n        </div>\n      </Store.Provider>\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\nserviceWorker.unregister();\n"],"sourceRoot":""}